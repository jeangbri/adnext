(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2100],{2156:function(e,t,s){Promise.resolve().then(s.bind(s,53592))},53592:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var n=s(89075),r=s(50511),a=s(53152),c=s(88457);function l(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),i=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/logs");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to load logs",e)}finally{l(!1)}},[]);return(0,r.useEffect)(()=>{i()},[i]),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Logs & Eventos"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Hist\xf3rico unificado de mensagens e coment\xe1rios."})]})}),(0,n.jsxs)("div",{className:"border border-white/10 rounded-lg bg-zinc-950/50 backdrop-blur overflow-hidden",children:[(0,n.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,n.jsx)("thead",{className:"bg-zinc-900/50 text-zinc-400 font-medium border-b border-white/5",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-4",children:"Data"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"P\xe1gina"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Origem"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Tipo"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Conte\xfado"}),(0,n.jsx)("th",{className:"px-6 py-4",children:"Status"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-white/5 text-zinc-300",children:s?Array.from({length:6}).map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(c.O,{className:"h-3 w-28 bg-zinc-800"})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(c.O,{className:"h-3 w-20 bg-zinc-800"})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(c.O,{className:"h-3 w-24 bg-zinc-800"})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(c.O,{className:"h-5 w-24 rounded-full bg-zinc-800"})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(c.O,{className:"h-3 w-40 bg-zinc-800"})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(c.O,{className:"h-5 w-16 rounded-full bg-zinc-800"})})]},t)):e.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-zinc-400",children:new Date(e.createdAt).toLocaleString("pt-BR")}),(0,n.jsx)("td",{className:"px-6 py-4 text-xs",children:e.pageName}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)("span",{className:"text-sm",children:e.contactName})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)(a.C,{variant:"outline",className:"\n                                            ".concat("COMMENT"===e.type?"text-yellow-400 bg-yellow-400/10 border-yellow-400/20":"","\n                                            ").concat("MESSAGE"===e.type&&"IN"===e.direction?"text-blue-400 bg-blue-400/10 border-blue-400/20":"","\n                                            ").concat("MESSAGE"===e.type&&"OUT"===e.direction?"text-purple-400 bg-purple-400/10 border-purple-400/20":"","\n                                        "),children:"COMMENT"===e.type?"COMENT\xc1RIO":"IN"===e.direction?"MSG RECEBIDA":"MSG ENVIADA"})}),(0,n.jsx)("td",{className:"px-6 py-4 max-w-xs truncate",title:e.content,children:e.content}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(a.C,{variant:"secondary",className:"ERROR"===e.status||"FAILED"===e.status?"bg-red-500/10 text-red-500":"MATCHED"===e.status||"SENT"===e.status||"RECEIVED"===e.status?"bg-green-500/10 text-green-500":"bg-zinc-800 text-zinc-400",children:e.status}),e.error&&(0,n.jsx)("span",{className:"text-[10px] text-red-400 max-w-[150px] truncate",children:e.error})]})})]},e.id))})]}),!s&&0===e.length&&(0,n.jsx)("div",{className:"p-12 text-center text-zinc-500",children:"Nenhum log encontrado."})]})]})}},53152:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var n=s(89075);s(50511);var r=s(33452),a=s(22526);let c=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)(c({variant:s}),t),...r})}},88457:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});var n=s(89075),r=s(22526);function a(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-zinc-800/50",t),...s})}},22526:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var n=s(68273),r=s(70868);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,n.W)(t))}},33452:function(e,t,s){"use strict";s.d(t,{j:function(){return c}});var n=s(68273);let r=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,a=n.W,c=(e,t)=>s=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:c,defaultVariants:l}=t,i=Object.keys(c).map(e=>{let t=null==s?void 0:s[e],n=null==l?void 0:l[e];if(null===t)return null;let a=r(t)||r(n);return c[e][a]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,n]=t;return void 0===n||(e[s]=n),e},{});return a(e,i,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:s,className:n,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...l,...d}[t]):({...l,...d})[t]===s})?[...e,s,n]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},function(e){e.O(0,[2688,4852,4999,1744],function(){return e(e.s=2156)}),_N_E=e.O()}]);