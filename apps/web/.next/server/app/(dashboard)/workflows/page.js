(()=>{var e={};e.id=4252,e.ids=[4252],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},91053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=r(28090),s=r(79409),n=r(31522),i=r.n(n),o=r(41305),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(dashboard)",{children:["workflows",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27404)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\workflows\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63470)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,70111,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,13840)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,70111,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\workflows\\page.tsx"],u="/(dashboard)/workflows/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/workflows/page",pathname:"/workflows",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},95763:(e,t,r)=>{let a={"67ec2a3b5879da03fd9db50f251cecdfe825c359":()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.deleteProject),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.createProject),"7d8e4dd9996424d0e268f2b3af549e67be85e477":()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.updatePageProject),f8668bd5f71af427a636b6031eb02965154b8feb:()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.getProjects),"6511aec7141895e8bedebb549690cdc948a691f5":()=>Promise.resolve().then(r.bind(r,80736)).then(e=>e.setContext),b4347abbed00a7e494c91a6d571a3336ae9e77f1:()=>Promise.resolve().then(r.bind(r,40172)).then(e=>e.deleteRuleAction)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"67ec2a3b5879da03fd9db50f251cecdfe825c359":s.bind(null,"67ec2a3b5879da03fd9db50f251cecdfe825c359"),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":s.bind(null,"7a8a07ed673e87719a224ba5bdd94c5abf5790df"),"7d8e4dd9996424d0e268f2b3af549e67be85e477":s.bind(null,"7d8e4dd9996424d0e268f2b3af549e67be85e477"),f8668bd5f71af427a636b6031eb02965154b8feb:s.bind(null,"f8668bd5f71af427a636b6031eb02965154b8feb"),"6511aec7141895e8bedebb549690cdc948a691f5":s.bind(null,"6511aec7141895e8bedebb549690cdc948a691f5"),b4347abbed00a7e494c91a6d571a3336ae9e77f1:s.bind(null,"b4347abbed00a7e494c91a6d571a3336ae9e77f1")}},95736:(e,t,r)=>{Promise.resolve().then(r.bind(r,78373)),Promise.resolve().then(r.t.bind(r,41928,23))},78373:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DeleteRuleButton:()=>c});var a=r(44297),s=r(76858),n=r(92359),i=r(66606),o=r(65803);r(72445);var l=(0,r(19621).$)("b4347abbed00a7e494c91a6d571a3336ae9e77f1"),d=r(51305);function c({ruleId:e}){let[t,r]=(0,o.useState)(!1),c=async()=>{if(confirm("Tem certeza que deseja excluir esta regra? Esta a\xe7\xe3o n\xe3o pode ser desfeita."))try{r(!0),await l(e),d.Am.success("Regra exclu\xedda com sucesso")}catch(e){d.Am.error("Erro ao excluir regra")}finally{r(!1)}};return a.jsx(s.z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-zinc-400 hover:text-red-500 hover:bg-red-500/10",onClick:c,disabled:t,children:t?a.jsx(n.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(i.Z,{className:"w-4 h-4"})})}},92359:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(55079).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66606:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(55079).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},40172:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteRuleAction:()=>i});var a=r(48437);r(69821);var s=r(56685),n=r(52841);async function i(e){if(e)try{await s.prisma.automationRule.delete({where:{id:e}}),(0,n.revalidatePath)("/workflows")}catch(e){throw console.error("Error deleting rule:",e),e}}(0,r(64601).ensureServerEntryExports)([i]),(0,a.createActionProxy)("b4347abbed00a7e494c91a6d571a3336ae9e77f1",i)},27404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O,dynamic:()=>S});var a=r(71002),s=r(61242),n=r(38588),i=r(11455),o=r(65702),l=r(57680),d=r.t(l,2);function c(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var u=Symbol.for("react.lazy"),p=d[" use ".trim().toString()];function h(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===u&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var f=function(e){let t=function(e){let t=l.forwardRef((e,t)=>{let{children:r,...a}=e;if(h(r)&&"function"==typeof p&&(r=p(r._payload)),l.isValidElement(r)){var s;let e,n;let i=(s=r,(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.props.ref:s.props.ref||s.ref),o=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==l.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,a=e.map(e=>{let a=c(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():c(e[t],null)}}}}(t,i):i),l.cloneElement(r,o)}return l.Children.count(r)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=l.forwardRef((e,r)=>{let{children:s,...n}=e;h(s)&&"function"==typeof p&&(s=p(s._payload));let i=l.Children.toArray(s),o=i.find(g);if(o){let e=o.props.children,s=i.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...n,ref:r,children:l.isValidElement(e)?l.cloneElement(e,void 0,s):null})}return(0,a.jsx)(t,{...n,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}("Slot"),m=Symbol("radix.slottable");function g(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}var x=r(69481),b=r(45482);let y=(0,x.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),w=l.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},i)=>{let o=s?f:"button";return a.jsx(o,{className:(0,b.cn)(y({variant:t,size:r,className:e})),ref:i,...n})});w.displayName="Button";var v=r(341),j=r.n(v),N=r(49849);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let I=(0,N.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var k=r(39835);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,N.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var P=r(33573),E=r(37460);let A=(0,E.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\app\(dashboard)\workflows\_components\delete-button.tsx`),{__esModule:C,$$typeof:z}=A;A.default;let M=(0,E.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\app\(dashboard)\workflows\_components\delete-button.tsx#DeleteRuleButton`),S="force-dynamic";async function O(){let e=(0,s.e)(),{data:{user:t}}=await e.auth.getUser();t||(0,P.redirect)("/entrar");let r=await (0,i.A)(t.id,t.email||""),l=await (0,o._)(),d={workspaceId:r.id};if(l?.projectId){if(l.pageId&&"ALL"!==l.pageId)d.OR=[{pageId:l.pageId},{pageIds:{has:l.pageId}},{AND:[{pageId:null},{pageIds:{equals:[]}}]}];else{let e=l.pageIds||[];e.length>0?d.OR=[{pageId:{in:e}},{pageIds:{hasSome:e}},{AND:[{pageId:null},{pageIds:{equals:[]}}]}]:d.OR=[{AND:[{pageId:null},{pageIds:{equals:[]}}]}]}}let c=await n._.automationRule.findMany({where:d,orderBy:{priority:"desc"},include:{actions:!0}});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Automa\xe7\xf5es"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas regras de resposta autom\xe1tica para o Messenger."})]}),a.jsx(j(),{href:"/workflows/create",children:(0,a.jsxs)(w,{className:"bg-[#0084FF] hover:bg-[#0070D1] text-white gap-2 shadow-lg shadow-blue-500/20",children:[a.jsx(I,{className:"w-4 h-4"}),"Criar Regra"]})})]}),a.jsx("div",{className:"border border-white/10 rounded-lg bg-zinc-950/50 backdrop-blur overflow-hidden",children:0===c.length?(0,a.jsxs)("div",{className:"p-12 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a.jsx(k.Z,{className:"w-6 h-6 text-zinc-500"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhuma regra encontrada"}),a.jsx("p",{className:"text-zinc-500 text-sm",children:"Crie sua primeira automa\xe7\xe3o por palavra-chave."})]})]}):(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-zinc-900/50 text-zinc-400 font-medium border-b border-white/5",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Nome"}),a.jsx("th",{className:"px-6 py-4",children:"Gatilho (Keywords)"}),a.jsx("th",{className:"px-6 py-4",children:"Prioridade"}),a.jsx("th",{className:"px-6 py-4",children:"A\xe7\xf5es"}),a.jsx("th",{className:"px-6 py-4",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Op\xe7\xf5es"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5 text-zinc-300",children:c.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-white",children:e.name}),a.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[e.triggerType&&"MESSAGE_ANY"!==e.triggerType&&a.jsx("span",{className:`px-2 py-0.5 w-fit rounded text-[10px] font-bold uppercase
                                                    ${"COMMENT_ON_POST"===e.triggerType?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"MESSAGE_OUTSIDE_24H"===e.triggerType?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-zinc-800 text-zinc-400"}
                                                `,children:"COMMENT_ON_POST"===e.triggerType?"Coment\xe1rio":"MESSAGE_OUTSIDE_24H"===e.triggerType?"Reengajamento (>24h)":e.triggerType}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.length>0?e.keywords.slice(0,3).map((e,t)=>a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-zinc-800 text-xs border border-white/5",children:e},t)):"MESSAGE_OUTSIDE_24H"===e.triggerType?a.jsx("span",{className:"text-xs text-zinc-500 italic",children:"Qualquer msg"}):"COMMENT_ON_POST"===e.triggerType&&e.triggerConfig?.keywords?.length===0?a.jsx("span",{className:"text-xs text-zinc-500 italic",children:"Qualquer coment\xe1rio"}):a.jsx("span",{className:"text-xs text-zinc-600",children:"-"}),e.keywords.length>3&&(0,a.jsxs)("span",{className:"text-xs text-zinc-500",children:["+",e.keywords.length-3]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:e.priority}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[e.actions.length," a\xe7\xf5es"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:e.isActive?"Ativo":"Pausado"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(j(),{href:`/workflows/${e.id}`,children:a.jsx(w,{size:"icon",variant:"ghost",className:"h-8 w-8 text-zinc-400 hover:text-white",children:a.jsx(_,{className:"w-4 h-4"})})}),a.jsx(M,{ruleId:e.id})]})})]},e.id))})]})})]})}},56087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createProject:()=>l,deleteProject:()=>c,getProjects:()=>o,updatePageProject:()=>d});var a=r(48437);r(69821);var s=r(56685),n=r(21840),i=r(52841);async function o(){let e=await (0,n.createClient)(),{data:{user:t}}=await e.auth.getUser();return t?(!await s.prisma.user.findUnique({where:{id:t.id}})&&t.email&&await s.prisma.user.create({data:{id:t.id,email:t.email}}).catch(()=>{}),await s.prisma.project.findMany({where:{userId:t.id},include:{pages:{select:{pageId:!0,pageName:!0,isActive:!0}},_count:{select:{pages:!0}}},orderBy:{createdAt:"desc"}})):[]}async function l(e){let t=await (0,n.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let a=e.get("name");if(!a||a.length<3)throw Error("Nome inv\xe1lido (min 3 chars)");let o=a.toLowerCase().replace(/[^a-z0-9]+/g,"-")+"-"+Math.floor(1e4*Math.random());try{return await s.prisma.project.create({data:{userId:r.id,name:a,slug:o}}),(0,i.revalidatePath)("/projects"),{success:!0}}catch(e){return console.error(e),{error:"Erro ao criar projeto"}}}async function d(e,t){let r=await (0,n.createClient)(),{data:{user:a}}=await r.auth.getUser();if(!a)throw Error("Unauthorized");let o=await s.prisma.project.findUnique({where:{id:t}});if(!o||o.userId!==a.id)throw Error("Projeto inv\xe1lido ou sem permiss\xe3o");return await s.prisma.messengerPage.update({where:{pageId:e},data:{projectId:t,userId:a.id}}),(0,i.revalidatePath)("/settings/integracoes"),{success:!0}}async function c(e){let t=await (0,n.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let a=await s.prisma.project.findUnique({where:{id:e},include:{_count:{select:{pages:!0}}}});if(!a||a.userId!==r.id)throw Error("Projeto n\xe3o encontrado");if(a._count.pages>0)throw Error("N\xe3o \xe9 poss\xedvel deletar projeto com p\xe1ginas associadas.");await s.prisma.project.delete({where:{id:e}}),(0,i.revalidatePath)("/projects")}(0,r(64601).ensureServerEntryExports)([o,l,d,c]),(0,a.createActionProxy)("f8668bd5f71af427a636b6031eb02965154b8feb",o),(0,a.createActionProxy)("7a8a07ed673e87719a224ba5bdd94c5abf5790df",l),(0,a.createActionProxy)("7d8e4dd9996424d0e268f2b3af549e67be85e477",d),(0,a.createActionProxy)("67ec2a3b5879da03fd9db50f251cecdfe825c359",c)},56685:(e,t,r)=>{"use strict";r.d(t,{prisma:()=>s});var a=r(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error","warn"]})},38588:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var a=r(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error","warn"]})},21840:(e,t,r)=>{"use strict";r.d(t,{createClient:()=>n});var a=r(43114),s=r(6235);function n(){let e=(0,s.cookies)(),t="https://fmxdqpukjuzhiseyobvz.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY";return t&&r||(console.warn("⚠️ Missing Supabase environment variables. Using fallback for build."),"build"!==process.env.npm_lifecycle_event&&t)?(0,a.createServerClient)(t||"",r||"",{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}}):(0,a.createServerClient)(t||"https://placeholder.supabase.co",r||"placeholder",{cookies:{get:()=>void 0,set:()=>{},remove:()=>{}}})}},61242:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var a=r(51441),s=r(97705);function n(){let e=(0,s.cookies)(),t="https://fmxdqpukjuzhiseyobvz.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY";return t&&r||(console.warn("⚠️ Missing Supabase environment variables. Using fallback for build."),"build"!==process.env.npm_lifecycle_event&&t)?(0,a.lx)(t||"",r||"",{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}}):(0,a.lx)(t||"https://placeholder.supabase.co",r||"placeholder",{cookies:{get:()=>void 0,set:()=>{},remove:()=>{}}})}},65702:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var a=r(97705),s=r(38588),n=r(61242);async function i(){let e=await (0,n.e)(),{data:{user:t}}=await e.auth.getUser();if(!t)return null;let r=(0,a.cookies)(),i=r.get("adnext_project")?.value,o=r.get("adnext_page")?.value;if(!i)return{userId:t.id,projectId:null,pageId:null,pageIds:[]};try{let e=await s._.project.findUnique({where:{id:i},include:{pages:{select:{pageId:!0}}}});if(!e||e.userId!==t.id)return{userId:t.id,projectId:null,pageId:null,pageIds:[]};let r=e.pages.map(e=>e.pageId),a=o;return o&&"ALL"!==o&&!r.includes(o)&&(a="ALL"),{userId:t.id,projectId:i,pageId:a||"ALL",pageIds:"ALL"!==a&&a?[a]:r}}catch(e){return console.error("Scope Error",e),{userId:t.id,projectId:null,pageId:null,pageIds:[]}}}},45482:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(76031),s=r(80817);function n(...e){return(0,s.m6)((0,a.W)(e))}},11455:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(38588);async function s(e,t){let r=await a._.workspaceMember.findFirst({where:{userId:e},include:{workspace:!0}});if(r)return r.workspace;let s=await a._.user.findUnique({where:{id:e}});if(!s){if(t)s=await a._.user.create({data:{id:e,email:t}});else throw Error("User not found and no email provided")}return await a._.workspace.create({data:{name:"Meu Workspace",ownerId:e,members:{create:{userId:e,role:"OWNER"}},workflowFolders:{create:{name:"Geral"}}}})}},49849:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(57680),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,...u},p)=>(0,a.createElement)("svg",{ref:p,...s,width:i,height:i,stroke:r,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide",`lucide-${n(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},39835:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(49849).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},23960:(e,t,r)=>{"use strict";r.d(t,{mergeDeepRight:()=>a.default});var a=r(95146)},341:(e,t,r)=>{"use strict";let{createProxy:a}=r(37460);e.exports=a("C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\node_modules\\.pnpm\\next@14.1.0_react-dom@18.3.1_react@18.3.1\\node_modules\\next\\dist\\client\\link.js")},69481:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var a=r(76031);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.W,i=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==o?void 0:o[e];if(null===t)return null;let n=s(t)||s(a);return i[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return n(e,l,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...d}[t]):({...o,...d})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[2150,3422,8235,111,4391,1089,3573,2183,2520],()=>r(91053));module.exports=a})();