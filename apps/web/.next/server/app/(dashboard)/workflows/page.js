(()=>{var e={};e.id=4252,e.ids=[4252],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},91053:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var r=a(28090),t=a(79409),n=a(31522),i=a.n(n),d=a(41305),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(s,l);let c=["",{children:["(dashboard)",{children:["workflows",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,41739)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\workflows\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,73751)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\workflows\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,63470)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,70111,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,13840)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,70111,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\workflows\\page.tsx"],x="/(dashboard)/workflows/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(dashboard)/workflows/page",pathname:"/workflows",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},95763:(e,s,a)=>{let r={"67ec2a3b5879da03fd9db50f251cecdfe825c359":()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.deleteProject),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.createProject),"7d8e4dd9996424d0e268f2b3af549e67be85e477":()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.updatePageProject),f8668bd5f71af427a636b6031eb02965154b8feb:()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.getProjects),"6511aec7141895e8bedebb549690cdc948a691f5":()=>Promise.resolve().then(a.bind(a,80736)).then(e=>e.setContext),b4347abbed00a7e494c91a6d571a3336ae9e77f1:()=>Promise.resolve().then(a.bind(a,40172)).then(e=>e.deleteRuleAction)};async function t(e,...s){return(await r[e]()).apply(null,s)}e.exports={"67ec2a3b5879da03fd9db50f251cecdfe825c359":t.bind(null,"67ec2a3b5879da03fd9db50f251cecdfe825c359"),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":t.bind(null,"7a8a07ed673e87719a224ba5bdd94c5abf5790df"),"7d8e4dd9996424d0e268f2b3af549e67be85e477":t.bind(null,"7d8e4dd9996424d0e268f2b3af549e67be85e477"),f8668bd5f71af427a636b6031eb02965154b8feb:t.bind(null,"f8668bd5f71af427a636b6031eb02965154b8feb"),"6511aec7141895e8bedebb549690cdc948a691f5":t.bind(null,"6511aec7141895e8bedebb549690cdc948a691f5"),b4347abbed00a7e494c91a6d571a3336ae9e77f1:t.bind(null,"b4347abbed00a7e494c91a6d571a3336ae9e77f1")}},50478:(e,s,a)=>{Promise.resolve().then(a.bind(a,25781))},38146:()=>{},25781:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(44297),t=a(65803),n=a(76858),i=a(42911),d=a(97545),l=a(13962);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a(55079).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var o=a(92359),x=a(66606);a(72445);var h=(0,a(19621).$)("b4347abbed00a7e494c91a6d571a3336ae9e77f1"),p=a(51305);function b({ruleId:e}){let[s,a]=(0,t.useState)(!1),i=async()=>{if(confirm("Tem certeza que deseja excluir esta regra? Esta a\xe7\xe3o n\xe3o pode ser desfeita."))try{a(!0),await h(e),p.Am.success("Regra exclu\xedda com sucesso")}catch(e){p.Am.error("Erro ao excluir regra")}finally{a(!1)}};return r.jsx(n.z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-zinc-400 hover:text-red-500 hover:bg-red-500/10",onClick:i,disabled:s,children:s?r.jsx(o.Z,{className:"w-4 h-4 animate-spin"}):r.jsx(x.Z,{className:"w-4 h-4"})})}var m=a(94809);function u(){let[e,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),x=(0,t.useCallback)(async()=>{try{let e=await fetch("/api/automations");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Failed to load automations",e)}finally{o(!1)}},[]);return(0,t.useEffect)(()=>{x()},[x]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Automa\xe7\xf5es"}),r.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas regras de resposta autom\xe1tica para o Messenger."})]}),r.jsx(i.default,{href:"/workflows/create",children:(0,r.jsxs)(n.z,{className:"bg-[#0084FF] hover:bg-[#0070D1] text-white gap-2 shadow-lg shadow-blue-500/20",children:[r.jsx(d.Z,{className:"w-4 h-4"}),"Criar Regra"]})})]}),r.jsx("div",{className:"border border-white/10 rounded-lg bg-zinc-950/50 backdrop-blur overflow-hidden",children:a?(0,r.jsxs)("div",{children:[r.jsx("div",{className:"bg-zinc-900/50 border-b border-white/5 px-6 py-4 flex gap-8",children:["w-20","w-32","w-16","w-12","w-16","w-16"].map((e,s)=>r.jsx(m.O,{className:`h-4 ${e} bg-zinc-800`},s))}),Array.from({length:4}).map((e,s)=>(0,r.jsxs)("div",{className:"px-6 py-4 flex items-center gap-8 border-b border-white/5 last:border-0",children:[r.jsx(m.O,{className:"h-4 w-28 bg-zinc-800"}),(0,r.jsxs)("div",{className:"flex gap-1.5",children:[r.jsx(m.O,{className:"h-5 w-14 rounded-full bg-zinc-800"}),r.jsx(m.O,{className:"h-5 w-18 rounded-full bg-zinc-800"})]}),r.jsx(m.O,{className:"h-4 w-8 bg-zinc-800"}),r.jsx(m.O,{className:"h-4 w-16 bg-zinc-800"}),r.jsx(m.O,{className:"h-5 w-14 rounded-full bg-zinc-800"}),(0,r.jsxs)("div",{className:"ml-auto flex gap-2",children:[r.jsx(m.O,{className:"h-8 w-8 rounded bg-zinc-800"}),r.jsx(m.O,{className:"h-8 w-8 rounded bg-zinc-800"})]})]},s))]}):0===e.length?(0,r.jsxs)("div",{className:"p-12 text-center space-y-4",children:[r.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:r.jsx(l.Z,{className:"w-6 h-6 text-zinc-500"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Nenhuma regra encontrada"}),r.jsx("p",{className:"text-zinc-500 text-sm",children:"Crie sua primeira automa\xe7\xe3o por palavra-chave."})]})]}):(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-zinc-900/50 text-zinc-400 font-medium border-b border-white/5",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4",children:"Nome"}),r.jsx("th",{className:"px-6 py-4",children:"Gatilho (Keywords)"}),r.jsx("th",{className:"px-6 py-4",children:"Prioridade"}),r.jsx("th",{className:"px-6 py-4",children:"A\xe7\xf5es"}),r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right",children:"Op\xe7\xf5es"})]})}),r.jsx("tbody",{className:"divide-y divide-white/5 text-zinc-300",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-white",children:e.name}),r.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[e.triggerType&&"MESSAGE_ANY"!==e.triggerType&&r.jsx("span",{className:`px-2 py-0.5 w-fit rounded text-[10px] font-bold uppercase
                                                    ${"COMMENT_ON_POST"===e.triggerType?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"MESSAGE_OUTSIDE_24H"===e.triggerType?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-zinc-800 text-zinc-400"}
                                                `,children:"COMMENT_ON_POST"===e.triggerType?"Coment\xe1rio":"MESSAGE_OUTSIDE_24H"===e.triggerType?"Reengajamento (>24h)":e.triggerType}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.length>0?e.keywords.slice(0,3).map((e,s)=>r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-zinc-800 text-xs border border-white/5",children:e},s)):"MESSAGE_OUTSIDE_24H"===e.triggerType?r.jsx("span",{className:"text-xs text-zinc-500 italic",children:"Qualquer msg"}):"COMMENT_ON_POST"===e.triggerType&&e.triggerConfig?.keywords?.length===0?r.jsx("span",{className:"text-xs text-zinc-500 italic",children:"Qualquer coment\xe1rio"}):r.jsx("span",{className:"text-xs text-zinc-600",children:"-"}),e.keywords.length>3&&(0,r.jsxs)("span",{className:"text-xs text-zinc-500",children:["+",e.keywords.length-3]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:e.priority}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[e.actions?.length??0," a\xe7\xf5es"]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:e.isActive?"Ativo":"Pausado"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(i.default,{href:`/workflows/${e.id}`,children:r.jsx(n.z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-zinc-400 hover:text-white",children:r.jsx(c,{className:"w-4 h-4"})})}),r.jsx(b,{ruleId:e.id})]})})]},e.id))})]})})]})}},94809:(e,s,a)=>{"use strict";a.d(s,{O:()=>n});var r=a(44297),t=a(67952);function n({className:e,...s}){return r.jsx("div",{className:(0,t.cn)("animate-pulse rounded-md bg-zinc-800/50",e),...s})}},97545:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(55079).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},66606:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(55079).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},40172:(e,s,a)=>{"use strict";a.r(s),a.d(s,{deleteRuleAction:()=>i});var r=a(48437);a(69821);var t=a(56685),n=a(52841);async function i(e){if(e)try{await t.prisma.automationRule.delete({where:{id:e}}),(0,n.revalidatePath)("/workflows")}catch(e){throw console.error("Error deleting rule:",e),e}}(0,a(64601).ensureServerEntryExports)([i]),(0,r.createActionProxy)("b4347abbed00a7e494c91a6d571a3336ae9e77f1",i)},73751:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var r=a(71002),t=a(20949);function n(){return(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(t.O,{className:"h-8 w-36 bg-zinc-800"}),r.jsx(t.O,{className:"h-4 w-80 bg-zinc-800/60"})]}),r.jsx(t.O,{className:"h-10 w-32 bg-zinc-800 rounded-md"})]}),(0,r.jsxs)("div",{className:"border border-white/10 rounded-lg bg-zinc-950/50 overflow-hidden",children:[r.jsx("div",{className:"bg-zinc-900/50 border-b border-white/5 px-6 py-4 flex gap-8",children:["w-20","w-32","w-16","w-12","w-16","w-16"].map((e,s)=>r.jsx(t.O,{className:`h-4 ${e} bg-zinc-800`},s))}),Array.from({length:4}).map((e,s)=>(0,r.jsxs)("div",{className:"px-6 py-4 flex items-center gap-8 border-b border-white/5 last:border-0",children:[r.jsx(t.O,{className:"h-4 w-28 bg-zinc-800"}),(0,r.jsxs)("div",{className:"flex gap-1.5",children:[r.jsx(t.O,{className:"h-5 w-14 rounded-full bg-zinc-800"}),r.jsx(t.O,{className:"h-5 w-18 rounded-full bg-zinc-800"})]}),r.jsx(t.O,{className:"h-4 w-8 bg-zinc-800"}),r.jsx(t.O,{className:"h-4 w-16 bg-zinc-800"}),r.jsx(t.O,{className:"h-5 w-14 rounded-full bg-zinc-800"}),(0,r.jsxs)("div",{className:"ml-auto flex gap-2",children:[r.jsx(t.O,{className:"h-8 w-8 rounded bg-zinc-800"}),r.jsx(t.O,{className:"h-8 w-8 rounded bg-zinc-800"})]})]},s))]})]})}},41739:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>t,default:()=>i});let r=(0,a(37460).createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\app\(dashboard)\workflows\page.tsx`),{__esModule:t,$$typeof:n}=r,i=r.default},20949:(e,s,a)=>{"use strict";a.d(s,{O:()=>n});var r=a(71002),t=a(45482);function n({className:e,...s}){return r.jsx("div",{className:(0,t.cn)("animate-pulse rounded-md bg-zinc-800/50",e),...s})}},45482:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var r=a(76031),t=a(80817);function n(...e){return(0,t.m6)((0,r.W)(e))}}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[2150,8235,111,2069,3321,6282],()=>a(91053));module.exports=r})();