(()=>{var e={};e.id=100,e.ids=[100],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},43654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>l,routeModule:()=>u,tree:()=>c});var r=s(28090),a=s(79409),n=s(31522),i=s.n(n),o=s(41305),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let c=["",{children:["(dashboard)",{children:["logs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,38784)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\logs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,82506)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,70111,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,13840)),"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,70111,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\(dashboard)\\logs\\page.tsx"],p="/(dashboard)/logs/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/logs/page",pathname:"/logs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},38146:()=>{},38784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,dynamic:()=>x});var r=s(71002),a=s(38588),n=s(11455),i=s(61242),o=s(33573);s(57680);var d=s(69481),c=s(45482);let l=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function p({className:e,variant:t,...s}){return r.jsx("div",{className:(0,c.cn)(l({variant:t}),e),...s})}let x="force-dynamic";async function u({searchParams:e}){let t=(0,i.e)(),{data:{user:s}}=await t.auth.getUser();s||(0,o.redirect)("/entrar");let d={page:{workspaceId:(await (0,n.A)(s.id,s.email||"")).id}};e.status&&"ALL"!==e.status&&(d.status=e.status);let c=await a._.messageLog.findMany({where:d,orderBy:{createdAt:"desc"},take:50,include:{contact:!0}});return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Logs do Messenger"}),r.jsx("p",{className:"text-muted-foreground",children:"Hist\xf3rico de mensagens e automa\xe7\xf5es."})]})}),(0,r.jsxs)("div",{className:"border border-white/10 rounded-lg bg-zinc-950/50 backdrop-blur overflow-hidden",children:[(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-zinc-900/50 text-zinc-400 font-medium border-b border-white/5",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4",children:"Data"}),r.jsx("th",{className:"px-6 py-4",children:"Contato"}),r.jsx("th",{className:"px-6 py-4",children:"Dire\xe7\xe3o"}),r.jsx("th",{className:"px-6 py-4",children:"Conte\xfado"}),r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4",children:"Erro"})]})}),r.jsx("tbody",{className:"divide-y divide-white/5 text-zinc-300",children:c.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(e.createdAt).toLocaleString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:e.contact?.firstName||e.contact?.psid||"Desconhecido"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(p,{variant:"outline",className:"IN"===e.direction?"text-blue-400 bg-blue-400/10":"text-purple-400 bg-purple-400/10",children:e.direction})}),r.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:e.incomingText||(e.actionType?`Action: ${e.actionType}`:"-")}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(p,{variant:"secondary",className:"ERROR"===e.status?"bg-red-500/10 text-red-500":"MATCHED"===e.status?"bg-green-500/10 text-green-500":"bg-zinc-800 text-zinc-400",children:e.status})}),r.jsx("td",{className:"px-6 py-4 text-red-400 max-w-xs truncate",children:e.error})]},e.id))})]}),0===c.length&&r.jsx("div",{className:"p-12 text-center text-zinc-500",children:"Nenhum log encontrado."})]})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[150,235,422,111,573,82,961],()=>s(43654));module.exports=r})();