"use strict";(()=>{var e={};e.id=2868,e.ids=[2868],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},6005:e=>{e.exports=require("node:crypto")},86255:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>g,originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>b});var r={};a.r(r),a.d(r,{POST:()=>d});var s=a(22534),o=a(79409),i=a(36717),n=a(27445),u=a(58105);async function d(e){let{pageId:t,psid:a,text:r,type:s,payload:o,postId:i,commentId:d}=await e.json(),p={id:t,time:Date.now()};if("comment"===s)p.changes=[{field:"feed",value:{item:"comment",verb:"add",post_id:i||`${t}_${Date.now()}`,comment_id:d||`comment_${Date.now()}`,from:{id:a,name:"Test User"},message:r,created_time:Math.floor(Date.now()/1e3)}}];else{let e={sender:{id:a},recipient:{id:t},timestamp:Date.now()};"postback"===s?e.postback={payload:o||r,title:r}:e.message={mid:`mid_${Date.now()}`,text:r},p.messaging=[e]}let m={object:"page",entry:[p]};try{return await (0,u.processMessengerEvent)(m),n.Z.json({success:!0,simulatedPayload:m})}catch(e){return n.Z.json({success:!1,error:e.message},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/debug/simulate-inbound/route",pathname:"/api/debug/simulate-inbound",filename:"route",bundlePath:"app/api/debug/simulate-inbound/route"},resolvedPagePath:"C:\\Users\\jeang\\OneDrive\\Desktop\\adnext\\apps\\web\\src\\app\\api\\debug\\simulate-inbound\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:c,serverHooks:l,headerHooks:g,staticGenerationBailout:b}=p,h="/api/debug/simulate-inbound/route";function v(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[2150,6363,8105],()=>a(86255));module.exports=r})();