"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/messenger/status/route";
exports.ids = ["app/api/messenger/status/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessenger%2Fstatus%2Froute&page=%2Fapi%2Fmessenger%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessenger%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessenger%2Fstatus%2Froute&page=%2Fapi%2Fmessenger%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessenger%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_jeang_OneDrive_Desktop_adnext_apps_web_src_app_api_messenger_status_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/messenger/status/route.ts */ \"(rsc)/./src/app/api/messenger/status/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/messenger/status/route\",\n        pathname: \"/api/messenger/status\",\n        filename: \"route\",\n        bundlePath: \"app/api/messenger/status/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\jeang\\\\OneDrive\\\\Desktop\\\\adnext\\\\apps\\\\web\\\\src\\\\app\\\\api\\\\messenger\\\\status\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_jeang_OneDrive_Desktop_adnext_apps_web_src_app_api_messenger_status_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/messenger/status/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMS4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRm1lc3NlbmdlciUyRnN0YXR1cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWVzc2VuZ2VyJTJGc3RhdHVzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbWVzc2VuZ2VyJTJGc3RhdHVzJTJGcm91dGUudHMmYXBwRGlyPUMlM0ElNUNVc2VycyU1Q2plYW5nJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDYWRuZXh0JTVDYXBwcyU1Q3dlYiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDamVhbmclNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNhZG5leHQlNUNhcHBzJTVDd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tEO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRuZXh0LXdlYi8/ODU0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxqZWFuZ1xcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXGFkbmV4dFxcXFxhcHBzXFxcXHdlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxtZXNzZW5nZXJcXFxcc3RhdHVzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tZXNzZW5nZXIvc3RhdHVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWVzc2VuZ2VyL3N0YXR1c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbWVzc2VuZ2VyL3N0YXR1cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGplYW5nXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcYWRuZXh0XFxcXGFwcHNcXFxcd2ViXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG1lc3NlbmdlclxcXFxzdGF0dXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbWVzc2VuZ2VyL3N0YXR1cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessenger%2Fstatus%2Froute&page=%2Fapi%2Fmessenger%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessenger%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/messenger/status/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/messenger/status/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var _lib_workspace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/workspace */ \"(rsc)/./src/lib/workspace.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\n\n\n\nconst dynamic = \"force-dynamic\";\nasync function GET(req) {\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const workspace = await (0,_lib_workspace__WEBPACK_IMPORTED_MODULE_2__.getPrimaryWorkspace)(user.id, user.email || \"\");\n        // Fetch connected page\n        const accounts = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.messengerPage.findMany({\n            where: {\n                OR: [\n                    {\n                        userId: user.id\n                    },\n                    {\n                        workspaceId: workspace.id\n                    }\n                ],\n                isActive: true\n            },\n            include: {\n                project: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                }\n            },\n            orderBy: {\n                updatedAt: \"desc\"\n            }\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            accounts\n        });\n    } catch (e) {\n        console.error(e);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9tZXNzZW5nZXIvc3RhdHVzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3RDtBQUNIO0FBQ0M7QUFDaEI7QUFFL0IsTUFBTUksVUFBVSxnQkFBZ0I7QUFFaEMsZUFBZUMsSUFBSUMsR0FBZ0I7SUFDdEMsTUFBTUMsV0FBV04sa0VBQVlBO0lBQzdCLE1BQU0sRUFBRU8sTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU1GLFNBQVNHLElBQUksQ0FBQ0MsT0FBTztJQUV0RCxJQUFJLENBQUNGLE1BQU07UUFDUCxPQUFPVCxrRkFBWUEsQ0FBQ1ksSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZSxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUN0RTtJQUVBLElBQUk7UUFDQSxNQUFNQyxZQUFZLE1BQU1iLG1FQUFtQkEsQ0FBQ08sS0FBS08sRUFBRSxFQUFFUCxLQUFLUSxLQUFLLElBQUk7UUFFbkUsdUJBQXVCO1FBQ3ZCLE1BQU1DLFdBQVcsTUFBTWYsK0NBQU1BLENBQUNnQixhQUFhLENBQUNDLFFBQVEsQ0FBQztZQUNqREMsT0FBTztnQkFDSEMsSUFBSTtvQkFDQTt3QkFBRUMsUUFBUWQsS0FBS08sRUFBRTtvQkFBQztvQkFDbEI7d0JBQUVRLGFBQWFULFVBQVVDLEVBQUU7b0JBQUM7aUJBQy9CO2dCQUNEUyxVQUFVO1lBQ2Q7WUFDQUMsU0FBUztnQkFDTEMsU0FBUztvQkFDTEMsUUFBUTt3QkFBRVosSUFBSTt3QkFBTWEsTUFBTTtvQkFBSztnQkFDbkM7WUFDSjtZQUNBQyxTQUFTO2dCQUNMQyxXQUFXO1lBQ2Y7UUFDSjtRQUVBLE9BQU8vQixrRkFBWUEsQ0FBQ1ksSUFBSSxDQUFDO1lBQUVNO1FBQVM7SUFDeEMsRUFBRSxPQUFPYyxHQUFHO1FBQ1JDLFFBQVFwQixLQUFLLENBQUNtQjtRQUNkLE9BQU9oQyxrRkFBWUEsQ0FBQ1ksSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZSxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUN0RTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRuZXh0LXdlYi8uL3NyYy9hcHAvYXBpL21lc3Nlbmdlci9zdGF0dXMvcm91dGUudHM/YjRmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgZ2V0UHJpbWFyeVdvcmtzcGFjZSB9IGZyb20gXCJAL2xpYi93b3Jrc3BhY2VcIjtcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSBcImZvcmNlLWR5bmFtaWNcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcclxuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xyXG5cclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBnZXRQcmltYXJ5V29ya3NwYWNlKHVzZXIuaWQsIHVzZXIuZW1haWwgfHwgJycpO1xyXG5cclxuICAgICAgICAvLyBGZXRjaCBjb25uZWN0ZWQgcGFnZVxyXG4gICAgICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgcHJpc21hLm1lc3NlbmdlclBhZ2UuZmluZE1hbnkoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgT1I6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IHVzZXJJZDogdXNlci5pZCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZS5pZCB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgICAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdDogeyBpZDogdHJ1ZSwgbmFtZTogdHJ1ZSB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogJ2Rlc2MnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgYWNjb3VudHMgfSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJTZXJ2ZXIgRXJyb3JcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJnZXRQcmltYXJ5V29ya3NwYWNlIiwicHJpc21hIiwiZHluYW1pYyIsIkdFVCIsInJlcSIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsIndvcmtzcGFjZSIsImlkIiwiZW1haWwiLCJhY2NvdW50cyIsIm1lc3NlbmdlclBhZ2UiLCJmaW5kTWFueSIsIndoZXJlIiwiT1IiLCJ1c2VySWQiLCJ3b3Jrc3BhY2VJZCIsImlzQWN0aXZlIiwiaW5jbHVkZSIsInByb2plY3QiLCJzZWxlY3QiLCJuYW1lIiwib3JkZXJCeSIsInVwZGF0ZWRBdCIsImUiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/messenger/status/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"error\",\n        \"warn\"\n    ]\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDOEM7QUFFOUMsTUFBTUMsa0JBQWtCQztBQUVqQixNQUFNQyxTQUNURixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDYkksS0FBSztRQUFDO1FBQVM7S0FBTztBQUMxQixHQUFHO0FBRVAsSUFBSUMsSUFBcUMsRUFBRUosZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRuZXh0LXdlYi8uL3NyYy9saWIvcHJpc21hLnRzPzAxZDciXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHsgcHJpc21hPzogUHJpc21hQ2xpZW50IH07XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxuICAgIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz9cbiAgICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICAgICAgbG9nOiBbXCJlcnJvclwiLCBcIndhcm5cIl0sXG4gICAgfSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsImxvZyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/../../node_modules/.pnpm/@supabase+ssr@0.1.0_@supabase+supabase-js@2.91.0/node_modules/@supabase/ssr/dist/index.mjs\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/api/headers.js\");\n\n\nfunction createClient() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    const supabaseUrl = \"https://fmxdqpukjuzhiseyobvz.supabase.co\";\n    const supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY\";\n    // Safe fallback for build time / missing envs to allow static generation to proceed\n    if (!supabaseUrl || !supabaseKey) {\n        console.warn(\"⚠️ Missing Supabase environment variables. Using fallback for build.\");\n        // Return a dummy client or valid client with placeholder credentials if needed\n        // But createServerClient requires valid URL format usually.\n        // Let's use placeholders, requests will fail but build might pass if not fetching data.\n        if (process.env.npm_lifecycle_event === \"build\" || !supabaseUrl) {\n            return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl || \"https://placeholder.supabase.co\", supabaseKey || \"placeholder\", {\n                cookies: {\n                    get: ()=>undefined,\n                    set: ()=>{},\n                    remove: ()=>{}\n                }\n            });\n        }\n    }\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl || \"\", supabaseKey || \"\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value,\n                        ...options\n                    });\n                } catch (error) {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value: \"\",\n                        ...options\n                    });\n                } catch (error) {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0U7QUFDaEM7QUFFL0IsU0FBU0U7SUFDWixNQUFNQyxjQUFjRixxREFBT0E7SUFFM0IsTUFBTUcsY0FBY0MsMENBQW9DO0lBQ3hELE1BQU1HLGNBQWNILGtOQUF5QztJQUU3RCxvRkFBb0Y7SUFDcEYsSUFBSSxDQUFDRCxlQUFlLENBQUNJLGFBQWE7UUFDOUJFLFFBQVFDLElBQUksQ0FBQztRQUNiLCtFQUErRTtRQUMvRSw0REFBNEQ7UUFDNUQsd0ZBQXdGO1FBQ3hGLElBQUlOLFFBQVFDLEdBQUcsQ0FBQ00sbUJBQW1CLEtBQUssV0FBVyxDQUFDUixhQUFhO1lBQzdELE9BQU9KLGlFQUFrQkEsQ0FDckJJLGVBQWUsbUNBQ2ZJLGVBQWUsZUFDZjtnQkFBRVAsU0FBUztvQkFBRVksS0FBSyxJQUFNQztvQkFBV0MsS0FBSyxLQUFRO29CQUFHQyxRQUFRLEtBQVE7Z0JBQUU7WUFBRTtRQUUvRTtJQUNKO0lBRUEsT0FBT2hCLGlFQUFrQkEsQ0FDckJJLGVBQWUsSUFDZkksZUFBZSxJQUNmO1FBQ0lQLFNBQVM7WUFDTFksS0FBSUksSUFBWTtnQkFDWixPQUFPZCxZQUFZVSxHQUFHLENBQUNJLE9BQU9DO1lBQ2xDO1lBQ0FILEtBQUlFLElBQVksRUFBRUMsS0FBYSxFQUFFQyxPQUFzQjtnQkFDbkQsSUFBSTtvQkFDQWhCLFlBQVlZLEdBQUcsQ0FBQzt3QkFBRUU7d0JBQU1DO3dCQUFPLEdBQUdDLE9BQU87b0JBQUM7Z0JBQzlDLEVBQUUsT0FBT0MsT0FBTztnQkFDWix1REFBdUQ7Z0JBQ3ZELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNyQjtZQUNKO1lBQ0FKLFFBQU9DLElBQVksRUFBRUUsT0FBc0I7Z0JBQ3ZDLElBQUk7b0JBQ0FoQixZQUFZWSxHQUFHLENBQUM7d0JBQUVFO3dCQUFNQyxPQUFPO3dCQUFJLEdBQUdDLE9BQU87b0JBQUM7Z0JBQ2xELEVBQUUsT0FBT0MsT0FBTztnQkFDWiwwREFBMEQ7Z0JBQzFELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNyQjtZQUNKO1FBQ0o7SUFDSjtBQUVSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRuZXh0LXdlYi8uL3NyYy9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzJlOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50LCB0eXBlIENvb2tpZU9wdGlvbnMgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHtcbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKVxuXG4gICAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcbiAgICBjb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZXG5cbiAgICAvLyBTYWZlIGZhbGxiYWNrIGZvciBidWlsZCB0aW1lIC8gbWlzc2luZyBlbnZzIHRvIGFsbG93IHN0YXRpYyBnZW5lcmF0aW9uIHRvIHByb2NlZWRcbiAgICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUtleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gTWlzc2luZyBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFVzaW5nIGZhbGxiYWNrIGZvciBidWlsZC5cIik7XG4gICAgICAgIC8vIFJldHVybiBhIGR1bW15IGNsaWVudCBvciB2YWxpZCBjbGllbnQgd2l0aCBwbGFjZWhvbGRlciBjcmVkZW50aWFscyBpZiBuZWVkZWRcbiAgICAgICAgLy8gQnV0IGNyZWF0ZVNlcnZlckNsaWVudCByZXF1aXJlcyB2YWxpZCBVUkwgZm9ybWF0IHVzdWFsbHkuXG4gICAgICAgIC8vIExldCdzIHVzZSBwbGFjZWhvbGRlcnMsIHJlcXVlc3RzIHdpbGwgZmFpbCBidXQgYnVpbGQgbWlnaHQgcGFzcyBpZiBub3QgZmV0Y2hpbmcgZGF0YS5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lm5wbV9saWZlY3ljbGVfZXZlbnQgPT09ICdidWlsZCcgfHwgIXN1cGFiYXNlVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxuICAgICAgICAgICAgICAgIHN1cGFiYXNlVXJsIHx8ICdodHRwczovL3BsYWNlaG9sZGVyLnN1cGFiYXNlLmNvJyxcbiAgICAgICAgICAgICAgICBzdXBhYmFzZUtleSB8fCAncGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgICAgIHsgY29va2llczogeyBnZXQ6ICgpID0+IHVuZGVmaW5lZCwgc2V0OiAoKSA9PiB7IH0sIHJlbW92ZTogKCkgPT4geyB9IH0gfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQoXG4gICAgICAgIHN1cGFiYXNlVXJsIHx8ICcnLFxuICAgICAgICBzdXBhYmFzZUtleSB8fCAnJyxcbiAgICAgICAge1xuICAgICAgICAgICAgY29va2llczoge1xuICAgICAgICAgICAgICAgIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldChuYW1lKT8udmFsdWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlLCAuLi5vcHRpb25zIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYHNldGAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlKG5hbWU6IHN0cmluZywgb3B0aW9uczogQ29va2llT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KHsgbmFtZSwgdmFsdWU6ICcnLCAuLi5vcHRpb25zIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYGRlbGV0ZWAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgKVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsImNvb2tpZXMiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJjb25zb2xlIiwid2FybiIsIm5wbV9saWZlY3ljbGVfZXZlbnQiLCJnZXQiLCJ1bmRlZmluZWQiLCJzZXQiLCJyZW1vdmUiLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/workspace.ts":
/*!******************************!*\
  !*** ./src/lib/workspace.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPrimaryWorkspace: () => (/* binding */ getPrimaryWorkspace)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\nasync function getPrimaryWorkspace(userId, email) {\n    // Find first workspace user is a member of\n    const membership = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.workspaceMember.findFirst({\n        where: {\n            userId\n        },\n        include: {\n            workspace: true\n        }\n    });\n    if (membership) {\n        return membership.workspace;\n    }\n    // Check if user exists, if not create\n    let user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            id: userId\n        }\n    });\n    if (!user) {\n        if (email) {\n            user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n                data: {\n                    id: userId,\n                    email: email\n                }\n            });\n        } else {\n            throw new Error(\"User not found and no email provided\");\n        }\n    }\n    // Create default workspace\n    const workspace = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.workspace.create({\n        data: {\n            name: \"Meu Workspace\",\n            ownerId: userId,\n            members: {\n                create: {\n                    userId,\n                    role: \"OWNER\"\n                }\n            },\n            // Create default folder\n            workflowFolders: {\n                create: {\n                    name: \"Geral\"\n                }\n            }\n        }\n    });\n    return workspace;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3dvcmtzcGFjZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUUvQixlQUFlQyxvQkFBb0JDLE1BQWMsRUFBRUMsS0FBYTtJQUNuRSwyQ0FBMkM7SUFDM0MsTUFBTUMsYUFBYSxNQUFNSiwrQ0FBTUEsQ0FBQ0ssZUFBZSxDQUFDQyxTQUFTLENBQUM7UUFDdERDLE9BQU87WUFBRUw7UUFBTztRQUNoQk0sU0FBUztZQUFFQyxXQUFXO1FBQUs7SUFDL0I7SUFFQSxJQUFJTCxZQUFZO1FBQ1osT0FBT0EsV0FBV0ssU0FBUztJQUMvQjtJQUVBLHNDQUFzQztJQUN0QyxJQUFJQyxPQUFPLE1BQU1WLCtDQUFNQSxDQUFDVSxJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUFFSixPQUFPO1lBQUVLLElBQUlWO1FBQU87SUFBRTtJQUNoRSxJQUFJLENBQUNRLE1BQU07UUFDUCxJQUFJUCxPQUFPO1lBQ1BPLE9BQU8sTUFBTVYsK0NBQU1BLENBQUNVLElBQUksQ0FBQ0csTUFBTSxDQUFDO2dCQUM1QkMsTUFBTTtvQkFDRkYsSUFBSVY7b0JBQ0pDLE9BQU9BO2dCQUNYO1lBQ0o7UUFDSixPQUFPO1lBQ0gsTUFBTSxJQUFJWSxNQUFNO1FBQ3BCO0lBQ0o7SUFFQSwyQkFBMkI7SUFDM0IsTUFBTU4sWUFBWSxNQUFNVCwrQ0FBTUEsQ0FBQ1MsU0FBUyxDQUFDSSxNQUFNLENBQUM7UUFDNUNDLE1BQU07WUFDRkUsTUFBTTtZQUNOQyxTQUFTZjtZQUNUZ0IsU0FBUztnQkFDTEwsUUFBUTtvQkFDSlg7b0JBQ0FpQixNQUFNO2dCQUNWO1lBQ0o7WUFDQSx3QkFBd0I7WUFDeEJDLGlCQUFpQjtnQkFDYlAsUUFBUTtvQkFDSkcsTUFBTTtnQkFDVjtZQUNKO1FBQ0o7SUFDSjtJQUVBLE9BQU9QO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG5leHQtd2ViLy4vc3JjL2xpYi93b3Jrc3BhY2UudHM/MjAyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvcHJpc21hXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcmltYXJ5V29ya3NwYWNlKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nKSB7XG4gICAgLy8gRmluZCBmaXJzdCB3b3Jrc3BhY2UgdXNlciBpcyBhIG1lbWJlciBvZlxuICAgIGNvbnN0IG1lbWJlcnNoaXAgPSBhd2FpdCBwcmlzbWEud29ya3NwYWNlTWVtYmVyLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxuICAgICAgICBpbmNsdWRlOiB7IHdvcmtzcGFjZTogdHJ1ZSB9XG4gICAgfSk7XG5cbiAgICBpZiAobWVtYmVyc2hpcCkge1xuICAgICAgICByZXR1cm4gbWVtYmVyc2hpcC53b3Jrc3BhY2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBleGlzdHMsIGlmIG5vdCBjcmVhdGVcbiAgICBsZXQgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogdXNlcklkIH0gfSk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIGlmIChlbWFpbCkge1xuICAgICAgICAgICAgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBpZDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGZvdW5kIGFuZCBubyBlbWFpbCBwcm92aWRlZFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBkZWZhdWx0IHdvcmtzcGFjZVxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IGF3YWl0IHByaXNtYS53b3Jrc3BhY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgbmFtZTogXCJNZXUgV29ya3NwYWNlXCIsXG4gICAgICAgICAgICBvd25lcklkOiB1c2VySWQsXG4gICAgICAgICAgICBtZW1iZXJzOiB7XG4gICAgICAgICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogJ09XTkVSJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDcmVhdGUgZGVmYXVsdCBmb2xkZXJcbiAgICAgICAgICAgIHdvcmtmbG93Rm9sZGVyczoge1xuICAgICAgICAgICAgICAgIGNyZWF0ZToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnR2VyYWwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gd29ya3NwYWNlO1xufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsImdldFByaW1hcnlXb3Jrc3BhY2UiLCJ1c2VySWQiLCJlbWFpbCIsIm1lbWJlcnNoaXAiLCJ3b3Jrc3BhY2VNZW1iZXIiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImluY2x1ZGUiLCJ3b3Jrc3BhY2UiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsImlkIiwiY3JlYXRlIiwiZGF0YSIsIkVycm9yIiwibmFtZSIsIm93bmVySWQiLCJtZW1iZXJzIiwicm9sZSIsIndvcmtmbG93Rm9sZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/workspace.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.1.0_react-dom@18.3.1_react@18.3.1","vendor-chunks/@supabase+auth-js@2.91.0","vendor-chunks/@supabase+storage-js@2.91.0","vendor-chunks/@supabase+realtime-js@2.91.0","vendor-chunks/@supabase+postgrest-js@2.91.0","vendor-chunks/tslib@2.8.1","vendor-chunks/iceberg-js@0.8.1","vendor-chunks/@supabase+supabase-js@2.91.0","vendor-chunks/@supabase+ssr@0.1.0_@supabase+supabase-js@2.91.0","vendor-chunks/@supabase+functions-js@2.91.0","vendor-chunks/ramda@0.29.1","vendor-chunks/cookie@0.5.0"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.1.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessenger%2Fstatus%2Froute&page=%2Fapi%2Fmessenger%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessenger%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjeang%5COneDrive%5CDesktop%5Cadnext%5Capps%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();