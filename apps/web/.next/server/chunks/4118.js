exports.id=4118,exports.ids=[4118],exports.modules={57409:(e,t,r)=>{let a={"67ec2a3b5879da03fd9db50f251cecdfe825c359":()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.deleteProject),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.createProject),"7d8e4dd9996424d0e268f2b3af549e67be85e477":()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.updatePageProject),f8668bd5f71af427a636b6031eb02965154b8feb:()=>Promise.resolve().then(r.bind(r,56087)).then(e=>e.getProjects),"6511aec7141895e8bedebb549690cdc948a691f5":()=>Promise.resolve().then(r.bind(r,80736)).then(e=>e.setContext)};async function i(e,...t){return(await a[e]()).apply(null,t)}e.exports={"67ec2a3b5879da03fd9db50f251cecdfe825c359":i.bind(null,"67ec2a3b5879da03fd9db50f251cecdfe825c359"),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":i.bind(null,"7a8a07ed673e87719a224ba5bdd94c5abf5790df"),"7d8e4dd9996424d0e268f2b3af549e67be85e477":i.bind(null,"7d8e4dd9996424d0e268f2b3af549e67be85e477"),f8668bd5f71af427a636b6031eb02965154b8feb:i.bind(null,"f8668bd5f71af427a636b6031eb02965154b8feb"),"6511aec7141895e8bedebb549690cdc948a691f5":i.bind(null,"6511aec7141895e8bedebb549690cdc948a691f5")}},81584:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>n,SZ:()=>c,Zb:()=>s,aY:()=>l,eW:()=>u,ll:()=>d});var a=r(44297),i=r(65803),o=r(67952);let s=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let n=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=i.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let c=i.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let l=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent";let u=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},82984:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(44297),i=r(65803),o=r(67952);let s=i.forwardRef(({className:e,type:t,...r},i)=>a.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));s.displayName="Input"},90096:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var a=r(44297),i=r(65803),o=r(82455),s=i.forwardRef((e,t)=>(0,a.jsx)(o.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var n=r(65723),d=r(67952);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=i.forwardRef(({className:e,...t},r)=>a.jsx(s,{ref:r,className:(0,d.cn)(c(),e),...t}));l.displayName=s.displayName},80541:(e,t,r)=>{"use strict";r.d(t,{r:()=>P});var a=r(44297),i=r(65803),o=r(44152),s=r(23423),n=r(91740),d=r(56283),c=r(11225),l=r(98326),u=r(81774),f="Switch",[b,p]=(0,n.b)(f),[m,h]=b(f),g=i.forwardRef((e,t)=>{let{__scopeSwitch:r,name:n,checked:c,defaultChecked:l,required:b,disabled:p,value:h="on",onCheckedChange:g,form:y,...v}=e,[x,P]=i.useState(null),N=(0,s.e)(t,e=>P(e)),R=i.useRef(!1),k=!x||y||!!x.closest("form"),[S,E]=(0,d.T)({prop:c,defaultProp:l??!1,onChange:g,caller:f});return(0,a.jsxs)(m,{scope:r,checked:S,disabled:p,children:[(0,a.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":b,"data-state":j(S),"data-disabled":p?"":void 0,disabled:p,value:h,...v,ref:N,onClick:(0,o.Mj)(e.onClick,e=>{E(e=>!e),k&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),k&&(0,a.jsx)(w,{control:x,bubbles:!R.current,name:n,value:h,checked:S,required:b,disabled:p,form:y,style:{transform:"translateX(-100%)"}})]})});g.displayName=f;var y="SwitchThumb",v=i.forwardRef((e,t)=>{let{__scopeSwitch:r,...i}=e,o=h(y,r);return(0,a.jsx)(u.WV.span,{"data-state":j(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})});v.displayName=y;var w=i.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:o=!0,...n},d)=>{let u=i.useRef(null),f=(0,s.e)(u,d),b=(0,c.D)(r),p=(0,l.t)(t);return i.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(b!==r&&t){let a=new Event("click",{bubbles:o});t.call(e,r),e.dispatchEvent(a)}},[b,r,o]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:f,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function j(e){return e?"checked":"unchecked"}w.displayName="SwitchBubbleInput";var x=r(67952);let P=i.forwardRef(({className:e,...t},r)=>a.jsx(g,{className:(0,x.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(v,{className:(0,x.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));P.displayName=g.displayName},74573:(e,t,r)=>{"use strict";r.d(t,{JN:()=>a,NQ:()=>i});let a={SQUARE:{label:"Quadrado (1:1)",ratio:1,cssAspectRatio:"1 / 1",idealWidth:1080,idealHeight:1080,idealLabel:"1080\xd71080",messengerRatio:"square",deriveStrategy:"crop"},PORTRAIT:{label:"Retrato (4:5)",ratio:.8,cssAspectRatio:"4 / 5",idealWidth:1080,idealHeight:1350,idealLabel:"1080\xd71350",messengerRatio:"square",deriveStrategy:"fit"},LANDSCAPE:{label:"Paisagem (1.91:1)",ratio:1.91,cssAspectRatio:"1.91 / 1",idealWidth:1200,idealHeight:628,idealLabel:"1200\xd7628",messengerRatio:"horizontal",deriveStrategy:"crop"}};function i(e,t,r,i=.15){let o=0===t?1:e/t,s=a[r]||a.SQUARE;return{isMismatch:Math.abs(o-s.ratio)/s.ratio>i,currentRatio:`${o>1.5?"Paisagem":o<.85?"Retrato":"Quadrado"} (~${o.toFixed(2)}:1)`,recommendation:`Para melhor resultado em ${s.label}, use ${s.idealLabel}.`}}},56087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createProject:()=>d,deleteProject:()=>l,getProjects:()=>n,updatePageProject:()=>c});var a=r(48437);r(69821);var i=r(56685),o=r(21840),s=r(52841);async function n(){let e=await (0,o.createClient)(),{data:{user:t}}=await e.auth.getUser();return t?await i.prisma.project.findMany({where:{userId:t.id},include:{pages:{select:{pageId:!0,pageName:!0,isActive:!0}},_count:{select:{pages:!0}}},orderBy:{createdAt:"desc"}}):[]}async function d(e){let t=await (0,o.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let a=e.get("name");if(!a||a.length<3)throw Error("Nome inv\xe1lido (min 3 chars)");let n=a.toLowerCase().replace(/[^a-z0-9]+/g,"-")+"-"+Math.floor(1e4*Math.random());try{return await i.prisma.project.create({data:{userId:r.id,name:a,slug:n}}),(0,s.revalidatePath)("/projects"),{success:!0}}catch(e){return console.error(e),{error:"Erro ao criar projeto"}}}async function c(e,t){let r=await (0,o.createClient)(),{data:{user:a}}=await r.auth.getUser();if(!a)throw Error("Unauthorized");let n=await i.prisma.project.findUnique({where:{id:t}});if(!n||n.userId!==a.id)throw Error("Projeto inv\xe1lido ou sem permiss\xe3o");return await i.prisma.messengerPage.update({where:{pageId:e},data:{projectId:t,userId:a.id}}),(0,s.revalidatePath)("/settings/integracoes"),{success:!0}}async function l(e){let t=await (0,o.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let a=await i.prisma.project.findUnique({where:{id:e},include:{_count:{select:{pages:!0}}}});if(!a||a.userId!==r.id)throw Error("Projeto n\xe3o encontrado");if(a._count.pages>0)throw Error("N\xe3o \xe9 poss\xedvel deletar projeto com p\xe1ginas associadas.");await i.prisma.project.delete({where:{id:e}}),(0,s.revalidatePath)("/projects")}(0,r(64601).ensureServerEntryExports)([n,d,c,l]),(0,a.createActionProxy)("f8668bd5f71af427a636b6031eb02965154b8feb",n),(0,a.createActionProxy)("7a8a07ed673e87719a224ba5bdd94c5abf5790df",d),(0,a.createActionProxy)("7d8e4dd9996424d0e268f2b3af549e67be85e477",c),(0,a.createActionProxy)("67ec2a3b5879da03fd9db50f251cecdfe825c359",l)},56685:(e,t,r)=>{"use strict";r.d(t,{prisma:()=>i});var a=r(53524);let i=globalThis.prisma??new a.PrismaClient({log:["error","warn"]})},21840:(e,t,r)=>{"use strict";r.d(t,{createClient:()=>o});var a=r(43114),i=r(6235);function o(){let e=(0,i.cookies)(),t="https://fmxdqpukjuzhiseyobvz.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY";return t&&r||(console.warn("⚠️ Missing Supabase environment variables. Using fallback for build."),"build"!==process.env.npm_lifecycle_event&&t)?(0,a.createServerClient)(t||"",r||"",{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}}):(0,a.createServerClient)(t||"https://placeholder.supabase.co",r||"placeholder",{cookies:{get:()=>void 0,set:()=>{},remove:()=>{}}})}},23960:(e,t,r)=>{"use strict";r.d(t,{mergeDeepRight:()=>a.default});var a=r(95146)},36950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return a},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},93777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return n},staticGenerationBailout:function(){return c}});let a=r(36950),i=r(45869),o="NEXT_STATIC_GEN_BAILOUT";class s extends Error{constructor(...e){super(...e),this.code=o}}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===o}function d(e,t){let{dynamic:r,link:a}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(a?" See more info here: "+a:"")}let c=(e,t)=>{let{dynamic:r,link:o}=void 0===t?{}:t,n=i.staticGenerationAsyncStorage.getStore();if(!n)return!1;if(n.forceStatic)return!0;if(n.dynamicShouldError)throw new s(d(e,{link:o,dynamic:null!=r?r:"error"}));let c=d(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==n.postpone||n.postpone.call(n,e),n.revalidate=0,n.isStaticGeneration){let t=new a.DynamicServerError(c);throw n.dynamicUsageDescription=e,n.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};