exports.id=9390,exports.ids=[9390],exports.modules={57409:(e,t,a)=>{let r={"67ec2a3b5879da03fd9db50f251cecdfe825c359":()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.deleteProject),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.createProject),"7d8e4dd9996424d0e268f2b3af549e67be85e477":()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.updatePageProject),f8668bd5f71af427a636b6031eb02965154b8feb:()=>Promise.resolve().then(a.bind(a,56087)).then(e=>e.getProjects),"6511aec7141895e8bedebb549690cdc948a691f5":()=>Promise.resolve().then(a.bind(a,80736)).then(e=>e.setContext)};async function o(e,...t){return(await r[e]()).apply(null,t)}e.exports={"67ec2a3b5879da03fd9db50f251cecdfe825c359":o.bind(null,"67ec2a3b5879da03fd9db50f251cecdfe825c359"),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":o.bind(null,"7a8a07ed673e87719a224ba5bdd94c5abf5790df"),"7d8e4dd9996424d0e268f2b3af549e67be85e477":o.bind(null,"7d8e4dd9996424d0e268f2b3af549e67be85e477"),f8668bd5f71af427a636b6031eb02965154b8feb:o.bind(null,"f8668bd5f71af427a636b6031eb02965154b8feb"),"6511aec7141895e8bedebb549690cdc948a691f5":o.bind(null,"6511aec7141895e8bedebb549690cdc948a691f5")}},32538:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var r=a(44297);a(65803);var o=a(65723),s=a(67952);let i=(0,o.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...a}){return r.jsx("div",{className:(0,s.cn)(i({variant:t}),e),...a})}},48972:(e,t,a)=>{"use strict";a.d(t,{$N:()=>m,Be:()=>g,Vq:()=>d,cN:()=>b,cZ:()=>u,fK:()=>p,hg:()=>c});var r=a(44297),o=a(65803),s=a(61687),i=a(4721),n=a(67952);let d=s.fC,c=s.xz,l=s.h_;s.x8;let f=o.forwardRef(({className:e,...t},a)=>r.jsx(s.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));f.displayName=s.aV.displayName;let u=o.forwardRef(({className:e,children:t,...a},o)=>(0,r.jsxs)(l,{children:[r.jsx(f,{}),(0,r.jsxs)(s.VY,{ref:o,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=s.VY.displayName;let p=({className:e,...t})=>r.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let b=({className:e,...t})=>r.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});b.displayName="DialogFooter";let m=o.forwardRef(({className:e,...t},a)=>r.jsx(s.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));m.displayName=s.Dx.displayName;let g=o.forwardRef(({className:e,...t},a)=>r.jsx(s.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=s.dk.displayName},82984:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var r=a(44297),o=a(65803),s=a(67952);let i=o.forwardRef(({className:e,type:t,...a},o)=>r.jsx("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...a}));i.displayName="Input"},84811:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(55079).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},42682:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(55079).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},56087:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createProject:()=>d,deleteProject:()=>l,getProjects:()=>n,updatePageProject:()=>c});var r=a(48437);a(69821);var o=a(56685),s=a(21840),i=a(52841);async function n(){let e=await (0,s.createClient)(),{data:{user:t}}=await e.auth.getUser();return t?(!await o.prisma.user.findUnique({where:{id:t.id}})&&t.email&&await o.prisma.user.create({data:{id:t.id,email:t.email}}).catch(()=>{}),await o.prisma.project.findMany({where:{userId:t.id},include:{pages:{select:{pageId:!0,pageName:!0,isActive:!0}},_count:{select:{pages:!0}}},orderBy:{createdAt:"desc"}})):[]}async function d(e){let t=await (0,s.createClient)(),{data:{user:a}}=await t.auth.getUser();if(!a)throw Error("Unauthorized");let r=e.get("name");if(!r||r.length<3)throw Error("Nome inv\xe1lido (min 3 chars)");let n=r.toLowerCase().replace(/[^a-z0-9]+/g,"-")+"-"+Math.floor(1e4*Math.random());try{return await o.prisma.project.create({data:{userId:a.id,name:r,slug:n}}),(0,i.revalidatePath)("/projects"),{success:!0}}catch(e){return console.error(e),{error:"Erro ao criar projeto"}}}async function c(e,t){let a=await (0,s.createClient)(),{data:{user:r}}=await a.auth.getUser();if(!r)throw Error("Unauthorized");let n=await o.prisma.project.findUnique({where:{id:t}});if(!n||n.userId!==r.id)throw Error("Projeto inv\xe1lido ou sem permiss\xe3o");return await o.prisma.messengerPage.update({where:{pageId:e},data:{projectId:t,userId:r.id}}),(0,i.revalidatePath)("/settings/integracoes"),{success:!0}}async function l(e){let t=await (0,s.createClient)(),{data:{user:a}}=await t.auth.getUser();if(!a)throw Error("Unauthorized");let r=await o.prisma.project.findUnique({where:{id:e},include:{_count:{select:{pages:!0}}}});if(!r||r.userId!==a.id)throw Error("Projeto n\xe3o encontrado");if(r._count.pages>0)throw Error("N\xe3o \xe9 poss\xedvel deletar projeto com p\xe1ginas associadas.");await o.prisma.project.delete({where:{id:e}}),(0,i.revalidatePath)("/projects")}(0,a(64601).ensureServerEntryExports)([n,d,c,l]),(0,r.createActionProxy)("f8668bd5f71af427a636b6031eb02965154b8feb",n),(0,r.createActionProxy)("7a8a07ed673e87719a224ba5bdd94c5abf5790df",d),(0,r.createActionProxy)("7d8e4dd9996424d0e268f2b3af549e67be85e477",c),(0,r.createActionProxy)("67ec2a3b5879da03fd9db50f251cecdfe825c359",l)},56685:(e,t,a)=>{"use strict";a.d(t,{prisma:()=>o});var r=a(53524);let o=globalThis.prisma??new r.PrismaClient({log:["error","warn"]})},21840:(e,t,a)=>{"use strict";a.d(t,{createClient:()=>s});var r=a(43114),o=a(6235);function s(){let e=(0,o.cookies)(),t="https://fmxdqpukjuzhiseyobvz.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY";return t&&a||(console.warn("⚠️ Missing Supabase environment variables. Using fallback for build."),"build"!==process.env.npm_lifecycle_event&&t)?(0,r.createServerClient)(t||"",a||"",{cookies:{get:t=>e.get(t)?.value,set(t,a,r){try{e.set({name:t,value:a,...r})}catch(e){}},remove(t,a){try{e.set({name:t,value:"",...a})}catch(e){}}}}):(0,r.createServerClient)(t||"https://placeholder.supabase.co",a||"placeholder",{cookies:{get:()=>void 0,set:()=>{},remove:()=>{}}})}},23960:(e,t,a)=>{"use strict";a.d(t,{mergeDeepRight:()=>r.default});var r=a(95146)},36950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{DynamicServerError:function(){return r},isDynamicServerError:function(){return o}});let a="DYNAMIC_SERVER_USAGE";class r extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=a}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===a}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},93777:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{isStaticGenBailoutError:function(){return n},staticGenerationBailout:function(){return c}});let r=a(36950),o=a(45869),s="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=s}}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===s}function d(e,t){let{dynamic:a,link:r}=t||{};return"Page"+(a?' with `dynamic = "'+a+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(r?" See more info here: "+r:"")}let c=(e,t)=>{let{dynamic:a,link:s}=void 0===t?{}:t,n=o.staticGenerationAsyncStorage.getStore();if(!n)return!1;if(n.forceStatic)return!0;if(n.dynamicShouldError)throw new i(d(e,{link:s,dynamic:null!=a?a:"error"}));let c=d(e,{dynamic:a,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==n.postpone||n.postpone.call(n,e),n.revalidate=0,n.isStaticGeneration){let t=new r.DynamicServerError(c);throw n.dynamicUsageDescription=e,n.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};