exports.id=6282,exports.ids=[6282],exports.modules={62486:(e,t,r)=>{Promise.resolve().then(r.bind(r,3128))},66685:(e,t,r)=>{Promise.resolve().then(r.bind(r,63827)),Promise.resolve().then(r.bind(r,24366))},19936:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,51170,23)),Promise.resolve().then(r.t.bind(r,83082,23)),Promise.resolve().then(r.t.bind(r,26181,23)),Promise.resolve().then(r.t.bind(r,57815,23)),Promise.resolve().then(r.t.bind(r,86205,23)),Promise.resolve().then(r.t.bind(r,64266,23))},37897:(e,t,r)=>{"use strict";r.d(t,{v:()=>a}),r(72445);var a=(0,r(19621).$)("6511aec7141895e8bedebb549690cdc948a691f5")},59291:(e,t,r)=>{"use strict";r.d(t,{$L:()=>o,Ch:()=>n,mW:()=>i,th:()=>s}),r(72445);var a=r(19621),s=(0,a.$)("67ec2a3b5879da03fd9db50f251cecdfe825c359"),i=(0,a.$)("f8668bd5f71af427a636b6031eb02965154b8feb"),o=(0,a.$)("7a8a07ed673e87719a224ba5bdd94c5abf5790df"),n=(0,a.$)("7d8e4dd9996424d0e268f2b3af549e67be85e477")},63827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ContextSelector:()=>u});var a=r(44297),s=r(65803),i=r(12255),o=r(13894),n=r(59291),c=r(37897),d=r(92359),l=r(13776);function u(){let{selectedProjectId:e,selectedPageId:t,setProject:r,setPage:u}=(0,i.q)(),[m,p]=(0,s.useState)([]),[f,x]=(0,s.useState)(!0),[h,g]=(0,s.useState)(!1),[b,v]=(0,s.useTransition)(),j=(0,l.useRouter)();(0,s.useEffect)(()=>{g(!0),w()},[]);let w=(0,s.useCallback)(async()=>{try{let e=await (0,n.mW)();p(e)}catch(e){console.error(e)}finally{x(!1)}},[]),y=(0,s.useCallback)(async e=>{r(e),await (0,c.v)(e,"ALL"),v(()=>{j.refresh()})},[r,j]),N=(0,s.useCallback)(async t=>{u(t),e&&(await (0,c.v)(e,t),v(()=>{j.refresh()}))},[u,e,j]),P=(0,s.useMemo)(()=>m.find(t=>t.id===e),[m,e]),z=P?.pages||[];return h?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.Ph,{value:e||"",onValueChange:y,disabled:b,children:[a.jsx(o.i4,{className:"w-[180px] h-9 text-xs font-medium bg-zinc-900/50 border-zinc-800 focus:ring-0 focus:ring-offset-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[a.jsx("span",{className:"text-muted-foreground",children:"Projeto:"}),b?a.jsx(d.Z,{className:"h-3 w-3 animate-spin text-muted-foreground"}):a.jsx(o.ki,{placeholder:"Selecione..."})]})}),(0,a.jsxs)(o.Bw,{className:"bg-zinc-950 border-zinc-800 text-white",children:[m.map(e=>a.jsx(o.Ql,{value:e.id,children:e.name},e.id)),0===m.length&&a.jsx("div",{className:"p-2 text-xs text-zinc-500 text-center",children:"Nenhum projeto"})]})]}),(0,a.jsxs)(o.Ph,{value:t||"ALL",onValueChange:N,disabled:!e||b,children:[a.jsx(o.i4,{className:"w-[180px] h-9 text-xs font-medium bg-zinc-900/50 border-zinc-800 focus:ring-0 focus:ring-offset-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[a.jsx("span",{className:"text-muted-foreground",children:"P\xe1gina:"}),b?a.jsx(d.Z,{className:"h-3 w-3 animate-spin text-muted-foreground"}):a.jsx(o.ki,{placeholder:"Todas"})]})}),(0,a.jsxs)(o.Bw,{className:"bg-zinc-950 border-zinc-800 text-white",children:[a.jsx(o.Ql,{value:"ALL",className:"font-semibold text-primary",children:"Todas as P\xe1ginas"}),z.map(e=>a.jsx(o.Ql,{value:e.pageId,children:e.pageName},e.pageId))]})]})]}):null}},24366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sidebar:()=>j});var a=r(44297),s=r(42911),i=r(23599),o=r(13776),n=r(67952),c=r(65803),d=r(17960),l=r(45902),u=r(13962),m=r(65882),p=r(93862),f=r(88086),x=r(43397),h=r(53343),g=r(8911),b=r(76858);let v=[{title:"Principal",items:[{label:"Dashboard",href:"/dashboard",icon:d.Z},{label:"Projetos",href:"/projects",icon:l.Z}]},{title:"Automa\xe7\xe3o",items:[{label:"Regras",href:"/workflows",icon:u.Z},{label:"Broadcast",href:"/broadcast",icon:m.Z},{label:"Logs",href:"/logs",icon:p.Z}]},{title:"Sistema",items:[{label:"Integra\xe7\xf5es",href:"/settings/integracoes",icon:f.Z}]}],j=(0,c.memo)(function(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),r=(0,g.e)(),d=(0,c.useCallback)(async()=>{await r.auth.signOut(),t.push("/entrar"),t.refresh()},[r,t]);return(0,a.jsxs)("div",{className:"flex h-screen w-64 flex-col border-r bg-card text-card-foreground",children:[a.jsx("div",{className:"p-6",children:a.jsx(s.default,{href:"/dashboard",className:"flex items-center justify-center py-2 group",children:a.jsx("div",{className:"relative w-40 h-10 transition-transform group-hover:scale-105",children:a.jsx(i.default,{src:"/logo.png",alt:"AdNext",fill:!0,className:"object-contain"})})})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[v.map((t,r)=>(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"mb-2 px-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:t.title}),a.jsx("div",{className:"space-y-1",children:t.items.map(t=>{let r=e===t.href||e.startsWith(t.href+"/");return(0,a.jsxs)(s.default,{href:t.href,className:(0,n.cn)("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-zinc-900 group",r?"bg-primary/10 text-primary":"text-zinc-500 hover:text-zinc-300"),children:[a.jsx(t.icon,{className:(0,n.cn)("h-4 w-4 transition-colors",r?"text-primary":"text-zinc-500 group-hover:text-zinc-300")}),t.label]},t.href)})})]},r)),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"mb-2 px-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Configura\xe7\xf5es"}),a.jsx("div",{className:"space-y-1",children:(0,a.jsxs)(s.default,{href:"/settings/integracoes",className:(0,n.cn)("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-zinc-900 group",e.startsWith("/settings")?"bg-primary/10 text-primary":"text-zinc-500 hover:text-zinc-300"),children:[a.jsx(f.Z,{className:(0,n.cn)("h-4 w-4 transition-colors",e.startsWith("/settings")?"text-primary":"text-zinc-500 group-hover:text-zinc-300")}),"Integra\xe7\xf5es"]})})]})]}),(0,a.jsxs)("div",{className:"border-t p-4",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center gap-3 rounded-md border bg-background p-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx(x.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[a.jsx("p",{className:"truncate text-xs font-medium",children:"Meu Perfil"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:"Configura\xe7\xf5es"})]})]}),(0,a.jsxs)(b.z,{variant:"ghost",className:"w-full justify-start gap-2 text-muted-foreground hover:text-destructive",onClick:d,children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Sair"]})]})]})})},76858:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var a=r(44297),s=r(65803),i=r(63551),o=r(65723),n=r(67952);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...o},d)=>{let l=s?i.g7:"button";return a.jsx(l,{className:(0,n.cn)(c({variant:t,size:r,className:e})),ref:d,...o})});d.displayName="Button"},13894:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>x,Ph:()=>l,Ql:()=>h,i4:()=>m,ki:()=>u});var a=r(44297),s=r(65803),i=r(37130),o=r(5562),n=r(16032),c=r(16021),d=r(67952);let l=i.fC;i.ZA;let u=i.B4,m=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(i.xz,{ref:s,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(i.JO,{asChild:!0,children:a.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.xz.displayName;let p=s.forwardRef(({className:e,...t},r)=>a.jsx(i.u_,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=i.u_.displayName;let f=s.forwardRef(({className:e,...t},r)=>a.jsx(i.$G,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(o.Z,{className:"h-4 w-4"})}));f.displayName=i.$G.displayName;let x=s.forwardRef(({className:e,children:t,position:r="popper",...s},o)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:o,className:(0,d.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[a.jsx(p,{}),a.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(f,{})]})}));x.displayName=i.VY.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(i.__,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let h=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(i.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(c.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));h.displayName=i.ck.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(i.Z0,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},3128:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Toaster:()=>i});var a=r(44297),s=r(51305);let i=({...e})=>a.jsx(s.x7,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},8911:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var a=r(69357);function s(){return(0,a.AY)("https://fmxdqpukjuzhiseyobvz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY")}},67952:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(49335),s=r(55614);function i(...e){return(0,s.m6)((0,a.W)(e))}},12255:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var a=r(41529),s=r(73571);let i=(0,a.Ue)()((0,s.tJ)(e=>({selectedProjectId:null,selectedPageId:null,setProject:t=>e({selectedProjectId:t,selectedPageId:t?"ALL":null}),setPage:t=>e({selectedPageId:t})}),{name:"adnext-context"}))},63470:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(71002),s=r(37460);let i=(0,s.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\components\layout\context-selector.tsx`),{__esModule:o,$$typeof:n}=i;i.default;let c=(0,s.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\components\layout\context-selector.tsx#ContextSelector`),d=(0,s.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\components\layout\sidebar.tsx`),{__esModule:l,$$typeof:u}=d;d.default;let m=(0,s.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\components\layout\sidebar.tsx#Sidebar`);function p({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden bg-background",children:[a.jsx(m,{}),(0,a.jsxs)("main",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[a.jsx("header",{className:"flex h-16 items-center border-b border-zinc-800 bg-zinc-950/50 px-6",children:a.jsx(c,{})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"container mx-auto p-8",children:e})})]})]})}},80736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{setContext:()=>i});var a=r(48437);r(69821);var s=r(6235);async function i(e,t){(0,s.cookies)().set("adnext_project",e,{path:"/"}),(0,s.cookies)().set("adnext_page",t,{path:"/"})}(0,r(64601).ensureServerEntryExports)([i]),(0,a.createActionProxy)("6511aec7141895e8bedebb549690cdc948a691f5",i)},56087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createProject:()=>c,deleteProject:()=>l,getProjects:()=>n,updatePageProject:()=>d});var a=r(48437);r(69821);var s=r(56685),i=r(21840),o=r(52841);async function n(){let e=await (0,i.createClient)(),{data:{user:t}}=await e.auth.getUser();return t?await s.prisma.project.findMany({where:{userId:t.id},include:{pages:{select:{pageId:!0,pageName:!0,isActive:!0}},_count:{select:{pages:!0}}},orderBy:{createdAt:"desc"}}):[]}async function c(e){let t=await (0,i.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let a=e.get("name");if(!a||a.length<3)throw Error("Nome inv\xe1lido (min 3 chars)");let n=a.toLowerCase().replace(/[^a-z0-9]+/g,"-")+"-"+Math.floor(1e4*Math.random());try{return await s.prisma.project.create({data:{userId:r.id,name:a,slug:n}}),(0,o.revalidatePath)("/projects"),{success:!0}}catch(e){return console.error(e),{error:"Erro ao criar projeto"}}}async function d(e,t){let r=await (0,i.createClient)(),{data:{user:a}}=await r.auth.getUser();if(!a)throw Error("Unauthorized");let n=await s.prisma.project.findUnique({where:{id:t}});if(!n||n.userId!==a.id)throw Error("Projeto inv\xe1lido ou sem permiss\xe3o");return await s.prisma.messengerPage.update({where:{pageId:e},data:{projectId:t,userId:a.id}}),(0,o.revalidatePath)("/settings/integracoes"),{success:!0}}async function l(e){let t=await (0,i.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let a=await s.prisma.project.findUnique({where:{id:e},include:{_count:{select:{pages:!0}}}});if(!a||a.userId!==r.id)throw Error("Projeto n\xe3o encontrado");if(a._count.pages>0)throw Error("N\xe3o \xe9 poss\xedvel deletar projeto com p\xe1ginas associadas.");await s.prisma.project.delete({where:{id:e}}),(0,o.revalidatePath)("/projects")}(0,r(64601).ensureServerEntryExports)([n,c,d,l]),(0,a.createActionProxy)("f8668bd5f71af427a636b6031eb02965154b8feb",n),(0,a.createActionProxy)("7a8a07ed673e87719a224ba5bdd94c5abf5790df",c),(0,a.createActionProxy)("7d8e4dd9996424d0e268f2b3af549e67be85e477",d),(0,a.createActionProxy)("67ec2a3b5879da03fd9db50f251cecdfe825c359",l)},13840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>u});var a=r(71002),s=r(12341),i=r.n(s);r(39881);var o=r(37460);let n=(0,o.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\components\ui\sonner.tsx`),{__esModule:c,$$typeof:d}=n;n.default;let l=(0,o.createProxy)(String.raw`C:\Users\jeang\OneDrive\Desktop\adnext\apps\web\src\components\ui\sonner.tsx#Toaster`),u={title:"AdNext - Automa\xe7\xe3o Messenger",description:"Plataforma de automa\xe7\xe3o premium para Messenger"};function m({children:e}){return a.jsx("html",{lang:"pt-BR",className:"dark",children:(0,a.jsxs)("body",{className:i().className,children:[e,a.jsx(l,{})]})})}},56685:(e,t,r)=>{"use strict";r.d(t,{prisma:()=>s});var a=r(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error","warn"]})},21840:(e,t,r)=>{"use strict";r.d(t,{createClient:()=>i});var a=r(43114),s=r(6235);function i(){let e=(0,s.cookies)(),t="https://fmxdqpukjuzhiseyobvz.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY";return t&&r||(console.warn("⚠️ Missing Supabase environment variables. Using fallback for build."),"build"!==process.env.npm_lifecycle_event&&t)?(0,a.createServerClient)(t||"",r||"",{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}}):(0,a.createServerClient)(t||"https://placeholder.supabase.co",r||"placeholder",{cookies:{get:()=>void 0,set:()=>{},remove:()=>{}}})}},23960:(e,t,r)=>{"use strict";r.d(t,{mergeDeepRight:()=>a.default});var a=r(95146)},39881:()=>{}};