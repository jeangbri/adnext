exports.id=5118,exports.ids=[5118],exports.modules={57409:(e,r,t)=>{let a={"67ec2a3b5879da03fd9db50f251cecdfe825c359":()=>Promise.resolve().then(t.bind(t,56087)).then(e=>e.deleteProject),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":()=>Promise.resolve().then(t.bind(t,56087)).then(e=>e.createProject),"7d8e4dd9996424d0e268f2b3af549e67be85e477":()=>Promise.resolve().then(t.bind(t,56087)).then(e=>e.updatePageProject),f8668bd5f71af427a636b6031eb02965154b8feb:()=>Promise.resolve().then(t.bind(t,56087)).then(e=>e.getProjects),"6511aec7141895e8bedebb549690cdc948a691f5":()=>Promise.resolve().then(t.bind(t,80736)).then(e=>e.setContext)};async function s(e,...r){return(await a[e]()).apply(null,r)}e.exports={"67ec2a3b5879da03fd9db50f251cecdfe825c359":s.bind(null,"67ec2a3b5879da03fd9db50f251cecdfe825c359"),"7a8a07ed673e87719a224ba5bdd94c5abf5790df":s.bind(null,"7a8a07ed673e87719a224ba5bdd94c5abf5790df"),"7d8e4dd9996424d0e268f2b3af549e67be85e477":s.bind(null,"7d8e4dd9996424d0e268f2b3af549e67be85e477"),f8668bd5f71af427a636b6031eb02965154b8feb:s.bind(null,"f8668bd5f71af427a636b6031eb02965154b8feb"),"6511aec7141895e8bedebb549690cdc948a691f5":s.bind(null,"6511aec7141895e8bedebb549690cdc948a691f5")}},38146:()=>{},32538:(e,r,t)=>{"use strict";t.d(r,{C:()=>d});var a=t(44297);t(65803);var s=t(65723),n=t(67952);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,...t}){return a.jsx("div",{className:(0,n.cn)(i({variant:r}),e),...t})}},81584:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>l,eW:()=>f,ll:()=>c});var a=t(44297),s=t(65803),n=t(67952);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));c.displayName="CardTitle";let o=s.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let l=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent";let f=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));f.displayName="CardFooter"},77845:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(71002),s=t(20949),n=t(25778);function i(){return(0,a.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(s.O,{className:"h-9 w-36 bg-zinc-800"}),a.jsx(s.O,{className:"h-4 w-72 bg-zinc-800/60"})]}),a.jsx(s.O,{className:"h-10 w-36 bg-zinc-800 rounded-md"})]}),(0,a.jsxs)(n.Zb,{className:"bg-zinc-900/50 border-zinc-800",children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(s.O,{className:"h-6 w-44 bg-zinc-800"}),a.jsx(s.O,{className:"h-4 w-52 bg-zinc-800/60"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-zinc-900/50 border border-zinc-800/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(s.O,{className:"w-10 h-10 rounded-full bg-zinc-800"}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx(s.O,{className:"h-4 w-40 bg-zinc-800"}),a.jsx(s.O,{className:"h-3 w-56 bg-zinc-800/60"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[a.jsx(s.O,{className:"h-4 w-16 bg-zinc-800"}),a.jsx(s.O,{className:"h-5 w-20 rounded-full bg-zinc-800"})]})]},r))})})]})]})}},56087:(e,r,t)=>{"use strict";t.r(r),t.d(r,{createProject:()=>c,deleteProject:()=>l,getProjects:()=>d,updatePageProject:()=>o});var a=t(48437);t(69821);var s=t(56685),n=t(21840),i=t(52841);async function d(){let e=await (0,n.createClient)(),{data:{user:r}}=await e.auth.getUser();return r?await s.prisma.project.findMany({where:{userId:r.id},include:{pages:{select:{pageId:!0,pageName:!0,isActive:!0}},_count:{select:{pages:!0}}},orderBy:{createdAt:"desc"}}):[]}async function c(e){let r=await (0,n.createClient)(),{data:{user:t}}=await r.auth.getUser();if(!t)throw Error("Unauthorized");let a=e.get("name");if(!a||a.length<3)throw Error("Nome inv\xe1lido (min 3 chars)");let d=a.toLowerCase().replace(/[^a-z0-9]+/g,"-")+"-"+Math.floor(1e4*Math.random());try{return await s.prisma.project.create({data:{userId:t.id,name:a,slug:d}}),(0,i.revalidatePath)("/projects"),{success:!0}}catch(e){return console.error(e),{error:"Erro ao criar projeto"}}}async function o(e,r){let t=await (0,n.createClient)(),{data:{user:a}}=await t.auth.getUser();if(!a)throw Error("Unauthorized");let d=await s.prisma.project.findUnique({where:{id:r}});if(!d||d.userId!==a.id)throw Error("Projeto inv\xe1lido ou sem permiss\xe3o");return await s.prisma.messengerPage.update({where:{pageId:e},data:{projectId:r,userId:a.id}}),(0,i.revalidatePath)("/settings/integracoes"),{success:!0}}async function l(e){let r=await (0,n.createClient)(),{data:{user:t}}=await r.auth.getUser();if(!t)throw Error("Unauthorized");let a=await s.prisma.project.findUnique({where:{id:e},include:{_count:{select:{pages:!0}}}});if(!a||a.userId!==t.id)throw Error("Projeto n\xe3o encontrado");if(a._count.pages>0)throw Error("N\xe3o \xe9 poss\xedvel deletar projeto com p\xe1ginas associadas.");await s.prisma.project.delete({where:{id:e}}),(0,i.revalidatePath)("/projects")}(0,t(64601).ensureServerEntryExports)([d,c,o,l]),(0,a.createActionProxy)("f8668bd5f71af427a636b6031eb02965154b8feb",d),(0,a.createActionProxy)("7a8a07ed673e87719a224ba5bdd94c5abf5790df",c),(0,a.createActionProxy)("7d8e4dd9996424d0e268f2b3af549e67be85e477",o),(0,a.createActionProxy)("67ec2a3b5879da03fd9db50f251cecdfe825c359",l)},25778:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>d,Zb:()=>i,aY:()=>o,ll:()=>c});var a=t(71002),s=t(57680),n=t(45482);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));c.displayName="CardTitle",s.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let o=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},20949:(e,r,t)=>{"use strict";t.d(r,{O:()=>n});var a=t(71002),s=t(45482);function n({className:e,...r}){return a.jsx("div",{className:(0,s.cn)("animate-pulse rounded-md bg-zinc-800/50",e),...r})}},56685:(e,r,t)=>{"use strict";t.d(r,{prisma:()=>s});var a=t(53524);let s=globalThis.prisma??new a.PrismaClient({log:["error","warn"]})},21840:(e,r,t)=>{"use strict";t.d(r,{createClient:()=>n});var a=t(43114),s=t(6235);function n(){let e=(0,s.cookies)(),r="https://fmxdqpukjuzhiseyobvz.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZteGRxcHVranV6aGlzZXlvYnZ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2Mjk4MjYsImV4cCI6MjA4NTIwNTgyNn0.bXEJnoTUSzAVDwQNwwiG1gmFc0rfK5M9xbKFMRb48BY";return r&&t||(console.warn("⚠️ Missing Supabase environment variables. Using fallback for build."),"build"!==process.env.npm_lifecycle_event&&r)?(0,a.createServerClient)(r||"",t||"",{cookies:{get:r=>e.get(r)?.value,set(r,t,a){try{e.set({name:r,value:t,...a})}catch(e){}},remove(r,t){try{e.set({name:r,value:"",...t})}catch(e){}}}}):(0,a.createServerClient)(r||"https://placeholder.supabase.co",t||"placeholder",{cookies:{get:()=>void 0,set:()=>{},remove:()=>{}}})}},45482:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(76031),s=t(80817);function n(...e){return(0,s.m6)((0,a.W)(e))}},23960:(e,r,t)=>{"use strict";t.d(r,{mergeDeepRight:()=>a.default});var a=t(95146)},36950:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{DynamicServerError:function(){return a},isDynamicServerError:function(){return s}});let t="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=t}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},93777:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isStaticGenBailoutError:function(){return d},staticGenerationBailout:function(){return o}});let a=t(36950),s=t(45869),n="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=n}}function d(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}function c(e,r){let{dynamic:t,link:a}=r||{};return"Page"+(t?' with `dynamic = "'+t+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(a?" See more info here: "+a:"")}let o=(e,r)=>{let{dynamic:t,link:n}=void 0===r?{}:r,d=s.staticGenerationAsyncStorage.getStore();if(!d)return!1;if(d.forceStatic)return!0;if(d.dynamicShouldError)throw new i(c(e,{link:n,dynamic:null!=t?t:"error"}));let o=c(e,{dynamic:t,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==d.postpone||d.postpone.call(d,e),d.revalidate=0,d.isStaticGeneration){let r=new a.DynamicServerError(o);throw d.dynamicUsageDescription=e,d.dynamicUsageStack=r.stack,r}return!1};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)}};